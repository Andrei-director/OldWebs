<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Space Shooter (DOS style) ‚Äì OldWebs Mini Games</title>
  <link rel="stylesheet" href="style.css">
  <style>
    .shooter-frame {
      margin:30px auto 20px auto;
      background:#111125;
      border:5px double #0ff;
      border-radius:13px;
      box-shadow:0 2px 22px #13e8f855;
      max-width:480px;
      min-width:260px;
      padding:26px 24px 18px 24px;
      display:flex; flex-direction:column; align-items:center;
    }
    #shooterCanvas {
      background: #1b1b2c;
      margin:0;
      box-shadow:0 0 18px #4ef6, 0 0 0 4px #212 inset;
      border:2px inset #12ff;
      border-radius:12px;
      outline:1px solid #0ff;
      width:320px;
      height:440px;
      display:block;
      margin-bottom: 10px;
    }
    .shooter-score {
      color: #ff0;
      background: #26262f;
      font-family: monospace;
      font-size: 1.08em;
      border-radius:3px;
      margin-bottom:14px;
      margin-top:7px;
      padding:3px 10px 2px 10px;
      letter-spacing:2px;
      border: 2px solid #208888;
      box-shadow: 0 0 6px #111B;
      display:inline-block;
    }
    .pixel-btn {margin-top: 7px;}
    .retro-frame {margin-bottom:10px;}
  </style>
</head>
<body>
  <div class="container">
    <div class="retro-frame">
      <marquee scrollamount="12" behavior="alternate">
        <span class="blink">üëæ Space Shooter (DOS Edition) ‚Äì Mini Game üëæ</span>
      </marquee>
    </div>
    <hr class="pixel-hr">
    <div class="navigation">
      <a href="index.html">üè† HOME</a> |
      <a href="games.html" class="pixel-btn">
        <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/f/fb/Terminal_icon_icon.svg/1024px-Terminal_icon_icon.svg.png" width="20" style="vertical-align:middle;margin-right:5px;">
        üéÆ Mini Games
      </a> |
      <a href="chat.html" class="pixel-btn">
        <img src="https://www.gifss.com/computers/old/gifss.com-old-3.gif" width="20" style="vertical-align:middle;margin-right:5px;">
        Retro Chat
      </a> |
      <a href="donate.html" class="pixel-btn">üí∏ Donate</a>
    </div>
    <hr class="pixel-hr" />

    <div class="shooter-frame">
      <div style="color:#fff36f;font-family:'Consolas';text-align:center;line-height:1.4em;margin-bottom:7px;">
        Use arrows or A/D to move. <br> Space or ‚Üë to shoot.<br>
        Survive and shoot down ALL enemies!
      </div>
      <canvas id="shooterCanvas" width="320" height="440"></canvas>
      <div id="shooterScore" class="shooter-score">Score: 0</div>
      <button class="pixel-btn" onclick="startGame()">Restart</button>
    </div>

    <div align="center" style="margin-top:12px;">
      <img src="https://www.gifss.com/computers/old/gifss.com-old-3.gif" width="32">
      <a href="games.html" class="pixel-btn">‚Üê Back to Mini Games</a>
    </div>
  </div>
  <script>
    // –ü—Ä–æ—Å—Ç–∞—è Space Invaders-—Å—Ç—Ä–µ–ª—è–ª–∫–∞
    const cvs = document.getElementById('shooterCanvas'),
          ctx = cvs.getContext('2d');
    let ship, bullets, enemies, keys, score, gameOver, gameLoopInterval;

    function startGame() {
      ship = { x: 145, y: 400, w: 30, h: 12 };
      bullets = [];
      enemies = [];
      keys = {};
      score = 0;
      gameOver = false;
      document.getElementById('shooterScore').textContent = "Score: 0";
      for(let r=0;r<3;r++)
        for(let c=0;c<7;c++)
          enemies.push({ x: 25+c*40, y: 40+r*35, w:28, h:16, dx: (Math.random()>0.5?1:-1)*1.2 });
      clearInterval(gameLoopInterval);
      gameLoopInterval = setInterval(gameLoop, 20);
    }

    function drawShip() {
      ctx.fillStyle="#0ff";
      ctx.fillRect(ship.x, ship.y, ship.w, ship.h);
      ctx.fillStyle="#fff36f";
      ctx.fillRect(ship.x+11, ship.y-10,8,10);
    }

    function drawBullets() {
      ctx.fillStyle="#ff0";
      bullets.forEach(b=>ctx.fillRect(b.x,b.y,4,12));
    }

    function drawEnemies() {
      ctx.fillStyle="#fa2";
      enemies.forEach(e=> {
        ctx.fillRect(e.x,e.y,e.w,e.h);
        ctx.fillStyle="#69f6";
        ctx.fillRect(e.x+7,e.y+4,5,5);
        ctx.fillStyle="#fa2";
      });
    }

    function moveShip() {
      if (keys['ArrowLeft']||keys['a']) { ship.x -= 5; if(ship.x<0)ship.x=0;}
      if (keys['ArrowRight']||keys['d']) { ship.x += 5; if(ship.x>cvs.width-ship.w)ship.x=cvs.width-ship.w;}
    }

    function moveBullets() {
      bullets.forEach(b=>b.y-=8);
      for(let i=bullets.length-1;i>=0;i--)
        if(bullets[i].y<-15)bullets.splice(i,1);
    }

    function moveEnemies() {
      enemies.forEach(e=> { e.x+=e.dx; if(e.x<0||e.x>cvs.width-e.w) e.dx*=-1; });
      // enemies move down sometimes
      if(Math.random()<0.01)
        enemies.forEach(e=>e.y+=24);
    }

    function detectCollisions() {
      for(let i=bullets.length-1;i>=0;i--) {
        for(let j=enemies.length-1;j>=0;j--) {
          let b=bullets[i],e=enemies[j];
          if(b.x<e.x+e.w && b.x+4>e.x && b.y<e.y+e.h && b.y+12>e.y) {
            enemies.splice(j,1);
            bullets.splice(i,1);
            score++;
            document.getElementById('shooterScore').textContent="Score: "+score;
            break;
          }
        }
      }
      // Enemy hit ship?
      for(let e of enemies) {
        if(e.y+e.h>ship.y && e.x<ship.x+ship.w && e.x+e.w>ship.x) {
          gameOver = true;
        }
      }
    }

    function gameLoop() {
      ctx.fillStyle="#1b1b2c";
      ctx.fillRect(0,0,cvs.width,cvs.height);
      moveShip();
      drawShip();
      moveEnemies();
      drawEnemies();
      moveBullets();
      drawBullets();
      detectCollisions();
      if(enemies.length===0) {
        ctx.fillStyle="#9f0";
        ctx.font="22px monospace";
        ctx.textAlign="center";
        ctx.fillText("You WIN!",cvs.width/2,220);
        clearInterval(gameLoopInterval);
      }
      if(gameOver) {
        ctx.fillStyle="#f44";
        ctx.font="22px monospace";
        ctx.textAlign="center";
        ctx.fillText("Game Over!",cvs.width/2,220);
        clearInterval(gameLoopInterval);
      }
    }

    document.addEventListener('keydown', function(e) {
      keys[e.key]=true;
      if((e.key===" "||e.key==="ArrowUp")&&bullets.length<3) {
        bullets.push({x:ship.x+13,y:ship.y-8});
      }
    });
    document.addEventListener('keyup',function(e){
      keys[e.key]=false;
    });

    startGame();
    window.startGame = startGame;
  </script>
</body>
</html>
