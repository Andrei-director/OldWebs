<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Snake (DOS style) ‚Äì OldWebs Mini Games</title>
  <link rel="stylesheet" href="style.css">
  <style>
    .snake-frame {
      margin:32px auto 20px auto;
      background:#151513;
      border:5px double #0ff;
      border-radius:13px;
      box-shadow:0 2px 22px #13e8f855;
      max-width:480px;
      min-width:260px;
      padding:26px 24px 15px 24px;
      display:flex; flex-direction:column; align-items:center;
    }
    #gameArea {
      background: #111;
      margin:0;
      box-shadow:0 0 20px #4448;
      border:2px inset #12ff;
      border-radius:8px;
      outline:1px solid #0ff;
      width:320px;
      height:320px;
      display:block;
    }
    .snake-hint {
      color:#fff24b;
      margin-top:8px;
      margin-bottom:8px;
      text-align:center;
      font-size:1.06em;
      font-family:'Consolas',monospace;
    }
    .score-snake {
      color: #ff0;
      background:#222;
      font-family: monospace;
      font-size:1.08em;
      border-radius:3px;
      margin-bottom:14px;
      margin-top:7px;
      padding:3px 10px 2px 10px;
      letter-spacing:2px;
      border: 2px solid #208888;
      box-shadow: 0 0 7px #111B;
      display:inline-block;
    }
    .retro-frame {margin-bottom:10px;}
    @media(max-width:400px){ #gameArea {width: 92vw; height: 92vw;}}
  </style>
</head>
<body>
  <div class="container">
    <div class="retro-frame">
      <marquee scrollamount="12" behavior="alternate">
        <span class="blink">üêç SNAKE (DOS Edition) ‚Äì Mini Game üêç</span>
      </marquee>
    </div>
    <hr class="pixel-hr">
    <div class="navigation">
      <a href="index.html">üè† HOME</a> |
      <a href="game-ascii.html" class="pixel-btn">üéÆ Mini Games</a> |
      <a href="game-snake.html" class="pixel-btn">üêç Snake</a> |
      <a href="chat.html" class="pixel-btn">üí¨ Retro Chat</a> |
      <a href="donate.html" class="pixel-btn">üí∏ Donate</a>
    </div>
    <hr class="pixel-hr" />
    <div class="snake-frame">
      <div class="snake-hint">
        Use arrows / WASD to control the snake.<br>Don't eat yourself!<br>
        <b>Press [Space] to Start / Pause</b>
      </div>
      <canvas id="gameArea" width="320" height="320"></canvas>
      <div class="score-snake" id="scoreSnake">Score: 0</div>
      <button class="pixel-btn" onclick="resetGame()">Restart</button>
    </div>
    <div align="center" style="margin-top:12px;">
      <img src="https://www.gifss.com/computers/old/gifss.com-old-3.gif" width="32">
      <a href="index.html" class="pixel-btn">‚Üê Back to Home</a>
    </div>
  </div>
  <script>
    // DOS-STYLE Snake
    const grid = 16, canvas = document.getElementById('gameArea'), ctx = canvas.getContext('2d');
    let snake, dx, dy, apple, score, running, moveQueue;

    function resetGame() {
      snake = [{x: 7, y: 7}];
      dx = 1; dy = 0; score = 0;
      running = false;
      moveQueue = [];
      dropApple();
      document.getElementById('scoreSnake').textContent = "Score: 0";
      ctx.fillStyle = "#111";
      ctx.fillRect(0,0,canvas.width,canvas.height);
      drawSnake();
      drawApple();
    }
    function dropApple() {
      do {
        apple = {x: Math.floor(Math.random() * 20), y: Math.floor(Math.random()*20)};
      } while(snake.some(seg => seg.x===apple.x&&seg.y===apple.y));
    }
    function drawSnake() {
      ctx.fillStyle="#12f";
      snake.forEach(({x,y},i)=> {
        ctx.fillStyle=i===0?"#fff24b":"#0ff";
        ctx.fillRect(x*grid,y*grid,grid-1,grid-1);
      });
    }
    function drawApple() {
      ctx.fillStyle="#fa2";
      ctx.fillRect(apple.x*grid,apple.y*grid,grid-1,grid-1);
    }
    function gameLoop() {
      if(!running) return;
      let head = {...snake[0]};
      if(moveQueue.length) {
        let [nx,ny] = moveQueue.shift();
        if (nx !== -dx && ny !== -dy) { dx = nx; dy = ny; }
      }
      head.x += dx; head.y += dy;
      // Wall
      if(head.x<0||head.y<0||head.x>=20||head.y>=20||snake.some(seg=>seg.x===head.x&&seg.y===head.y)){
        running = false; 
        ctx.fillStyle="#f44";
        ctx.font="20px monospace";
        ctx.textAlign="center";
        ctx.fillText("Game Over!",canvas.width/2,canvas.height/2);
        return;
      }
      snake.unshift(head);
      if(head.x===apple.x&&head.y===apple.y){
        score++; document.getElementById('scoreSnake').textContent="Score: "+score;
        dropApple();
      }else snake.pop();
      ctx.fillStyle="#111";
      ctx.fillRect(0,0,canvas.width,canvas.height);
      drawSnake();
      drawApple();
      setTimeout(gameLoop,100);
    }
    document.addEventListener("keydown",function(e){
      if(e.key===" "){ running=!running;if(running) gameLoop();}
      if(!running) return;
      if(e.key==="ArrowUp"||e.key==="w")moveQueue.push([0,-1]);
      if(e.key==="ArrowDown"||e.key==="s")moveQueue.push([0,1]);
      if(e.key==="ArrowLeft"||e.key==="a")moveQueue.push([-1,0]);
      if(e.key==="ArrowRight"||e.key==="d")moveQueue.push([1,0]);
    });
    document.getElementById('gameArea').onclick = function() {
      if(!running){ running=true; gameLoop();}
    };
    resetGame();
    window.resetGame = resetGame;
  </script>
</body>
</html>
