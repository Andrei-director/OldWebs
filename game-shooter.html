<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Space Shooter (DOS style) ‚Äì OldWebs Mini Games</title>
    <style>
        :root {
            --color-bg: #111125;
            --color-frame-border: #0ff;
            --color-game-bg: #1b1b2c;
            --color-ship: #0ff;
            --color-bullet: #ff0;
            --color-enemy: #fa2;
            --color-text-retro: #fff36f;
            --color-score-bg: #26262f;
            --color-score-border: #208888;
        }
        body {
            background-color: #000;
            color: var(--color-text-retro);
            font-family: 'Consolas', monospace; /* –ò—Å–ø–æ–ª—å–∑—É–µ–º –º–æ–Ω–æ—à–∏—Ä–∏–Ω–Ω—ã–π —à—Ä–∏—Ñ—Ç –¥–ª—è —Ä–µ—Ç—Ä–æ-—Å—Ç–∏–ª—è */
            padding: 0;
            margin: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .container {
            width: 90%;
            max-width: 600px;
            margin: 20px auto;
        }

        /* –û–±—â–∏–µ —Ä–µ—Ç—Ä–æ-—ç–ª–µ–º–µ–Ω—Ç—ã */
        .pixel-hr {
            border: none;
            height: 2px;
            background-color: var(--color-frame-border);
            margin: 10px 0;
            box-shadow: 0 0 8px var(--color-frame-border);
        }

        .pixel-btn {
            background: #222;
            border: 2px outset #666;
            color: var(--color-text-retro);
            font-family: 'Consolas', monospace;
            padding: 5px 10px;
            text-decoration: none;
            cursor: pointer;
            display: inline-block;
            transition: background-color 0.2s;
        }
        .pixel-btn:hover {
            background: #444;
            border: 2px outset #999;
        }

        .blink {
            animation: blinker 1s steps(1, end) infinite;
        }
        @keyframes blinker {
            50% { opacity: 0; }
        }

        /* –†–∞–º–∫–∞ –∏–≥—Ä—ã */
        .shooter-frame {
            margin: 30px auto 20px auto;
            background: var(--color-bg);
            border: 5px double var(--color-frame-border);
            border-radius: 13px;
            box-shadow: 0 2px 22px #13e8f855;
            max-width: 480px;
            min-width: 260px;
            padding: 26px 24px 18px 24px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        #shooterCanvas {
            background: var(--color-game-bg);
            margin: 0;
            box-shadow: 0 0 18px #4ef6, 0 0 0 4px #212 inset;
            border: 2px inset #12ff;
            border-radius: 12px;
            outline: 1px solid var(--color-frame-border);
            width: 320px;
            height: 440px;
            display: block;
            margin-bottom: 10px;
        }
        .shooter-score {
            color: var(--color-bullet);
            background: var(--color-score-bg);
            font-family: monospace;
            font-size: 1.08em;
            border-radius: 3px;
            margin-bottom: 14px;
            margin-top: 7px;
            padding: 3px 10px 2px 10px;
            letter-spacing: 2px;
            border: 2px solid var(--color-score-border);
            box-shadow: 0 0 6px #111B;
            display: inline-block;
        }
        .retro-frame {
            margin-bottom: 10px;
            text-align: center;
        }
        .retro-frame span {
            font-size: 1.5em;
            text-shadow: 0 0 5px var(--color-frame-border);
        }

        .navigation a {
            margin: 0 5px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="retro-frame">
            <marquee scrollamount="12" behavior="alternate">
                <span class="blink">üëæ Space Shooter (DOS Edition) ‚Äì Mini Game üëæ</span>
            </marquee>
        </div>
        <hr class="pixel-hr">
        <div class="navigation" align="center">
            <a href="index.html" class="pixel-btn">üè† HOME</a>
            <a href="games.html" class="pixel-btn">
                <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/f/fb/Terminal_icon_icon.svg/1024px-Terminal_icon_icon.svg.png" width="20" style="vertical-align:middle;margin-right:5px;">
                üéÆ Mini Games
            </a>
            <a href="chat.html" class="pixel-btn">
                <img src="https://www.gifss.com/computers/old/gifss.com-old-3.gif" width="20" style="vertical-align:middle;margin-right:5px;">
                Retro Chat
            </a>
            <a href="donate.html" class="pixel-btn">üí∏ Donate</a>
        </div>
        <hr class="pixel-hr" />

        <div class="shooter-frame">
            <div style="color:var(--color-text-retro);font-family:'Consolas';text-align:center;line-height:1.4em;margin-bottom:7px;">
                Use **Arrows** or **A/D** to move. <br> **Space** or **‚Üë** to shoot.<br>
                Survive and shoot down ALL enemies!
            </div>
            <canvas id="shooterCanvas" width="320" height="440"></canvas>
            <div id="shooterScore" class="shooter-score">Score: 0</div>
            <button class="pixel-btn" onclick="startGame()">‚ñ∂Ô∏è Restart Game</button>
        </div>

        <div align="center" style="margin-top:12px;">
            <img src="https://www.gifss.com/computers/old/gifss.com-old-3.gif" width="32">
            <a href="games.html" class="pixel-btn">‚Üê Back to Mini Games</a>
        </div>
    </div>
    <script>
        const cvs = document.getElementById('shooterCanvas');
        const ctx = cvs.getContext('2d');
        const SCORE_DISPLAY = document.getElementById('shooterScore');
        const BULLET_LIMIT = 3;
        const SHIP_COLOR = "#0ff";
        const THRUSTER_COLOR = "#fff36f";
        const BULLET_COLOR = "#ff0";
        const ENEMY_COLOR = "#fa2";
        const GAME_BG = "#1b1b2c";
        const WIN_COLOR = "#9f0";
        const LOSE_COLOR = "#f44";

        let ship, bullets, enemies, keys, score, gameOver, gameLoopInterval;

        function startGame() {
            ship = { x: 145, y: 400, w: 30, h: 12 };
            bullets = [];
            enemies = [];
            keys = {};
            score = 0;
            gameOver = false;
            SCORE_DISPLAY.textContent = "Score: 0";
            
            // –°–æ–∑–¥–∞–Ω–∏–µ –≤—Ä–∞–≥–æ–≤ 3x7
            for(let r = 0; r < 3; r++) {
                for(let c = 0; c < 7; c++) {
                    // –°–ª—É—á–∞–π–Ω–æ–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–ª—è —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏—è
                    const initial_dx = (Math.random() > 0.5 ? 1 : -1) * 1.2;
                    enemies.push({ x: 25 + c * 40, y: 40 + r * 35, w: 28, h: 16, dx: initial_dx });
                }
            }
            
            clearInterval(gameLoopInterval);
            gameLoopInterval = setInterval(gameLoop, 20);
        }

        // --- –§—É–Ω–∫—Ü–∏–∏ –æ—Ç—Ä–∏—Å–æ–≤–∫–∏ ---

        function drawShip() {
            // –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ—Ä–ø—É—Å –∫–æ—Ä–∞–±–ª—è
            ctx.fillStyle = SHIP_COLOR;
            ctx.fillRect(ship.x, ship.y, ship.w, ship.h);
            // –°–æ–ø–ª–æ (—Ç—è–≥–∞)
            ctx.fillStyle = THRUSTER_COLOR;
            ctx.fillRect(ship.x + 11, ship.y - 10, 8, 10);
        }

        function drawBullets() {
            ctx.fillStyle = BULLET_COLOR;
            bullets.forEach(b => ctx.fillRect(b.x, b.y, 4, 12));
        }

        function drawEnemies() {
            enemies.forEach(e => {
                // –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ—Ä–ø—É—Å –≤—Ä–∞–≥–∞
                ctx.fillStyle = ENEMY_COLOR;
                ctx.fillRect(e.x, e.y, e.w, e.h);
                // –î–µ—Ç–∞–ª—å/–≥–ª–∞–∑ (–ø—Å–µ–≤–¥–æ-–ø–∏–∫—Å–µ–ª—å)
                ctx.fillStyle = "#69f6";
                ctx.fillRect(e.x + 7, e.y + 4, 5, 5);
                ctx.fillRect(e.x + e.w - 12, e.y + 4, 5, 5);
            });
        }

        // --- –§—É–Ω–∫—Ü–∏–∏ –¥–≤–∏–∂–µ–Ω–∏—è –∏ –ª–æ–≥–∏–∫–∏ ---

        function moveShip() {
            const speed = 5;
            if (keys['ArrowLeft'] || keys['a']) { ship.x -= speed; }
            if (keys['ArrowRight'] || keys['d']) { ship.x += speed; }
            
            // –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–≤–∏–∂–µ–Ω–∏—è –∫–æ—Ä–∞–±–ª—è
            if (ship.x < 0) ship.x = 0;
            if (ship.x > cvs.width - ship.w) ship.x = cvs.width - ship.w;
        }

        function moveBullets() {
            for(let i = bullets.length - 1; i >= 0; i--) {
                bullets[i].y -= 8;
                // –£–¥–∞–ª–∏—Ç—å –ø—É–ª–∏, –≤—ã—à–µ–¥—à–∏–µ –∑–∞ –ø—Ä–µ–¥–µ–ª—ã —ç–∫—Ä–∞–Ω–∞
                if(bullets[i].y < -15) {
                    bullets.splice(i, 1);
                }
            }
        }

        function moveEnemies() {
            let hitWall = false;
            enemies.forEach(e => { 
                e.x += e.dx;
                if(e.x < 0 || e.x > cvs.width - e.w) {
                    hitWall = true; // –ó–∞–ø–æ–º–∏–Ω–∞–µ–º, —á—Ç–æ –∫—Ç–æ-—Ç–æ —É–¥–∞—Ä–∏–ª—Å—è
                }
            });

            if (hitWall) {
                // –ò–∑–º–µ–Ω–∏—Ç—å –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏ —Å–¥–≤–∏–Ω—É—Ç—å—Å—è –≤–Ω–∏–∑, –µ—Å–ª–∏ –∫–∞–∫–æ–π-–ª–∏–±–æ –≤—Ä–∞–≥ —É–¥–∞—Ä–∏–ª—Å—è –æ —Å—Ç–µ–Ω—É
                enemies.forEach(e => { 
                    e.dx *= -1;
                    e.y += 18; // –°–¥–≤–∏–≥ –≤–Ω–∏–∑
                });
            }
        }

        function detectCollisions() {
            for(let i = bullets.length - 1; i >= 0; i--) {
                for(let j = enemies.length - 1; j >= 0; j--) {
                    let b = bullets[i], e = enemies[j];
                    // –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —Å—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏–π (AABB)
                    if(b.x < e.x + e.w && b.x + 4 > e.x && b.y < e.y + e.h && b.y + 12 > e.y) {
                        enemies.splice(j, 1); // –£–¥–∞–ª–∏—Ç—å –≤—Ä–∞–≥–∞
                        bullets.splice(i, 1); // –£–¥–∞–ª–∏—Ç—å –ø—É–ª—é
                        score++;
                        SCORE_DISPLAY.textContent = "Score: " + score;
                        break; // –ü—É–ª—è –º–æ–∂–µ—Ç —É–Ω–∏—á—Ç–æ–∂–∏—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–Ω–æ–≥–æ –≤—Ä–∞–≥–∞
                    }
                }
            }
            
            // –°—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏–µ –≤—Ä–∞–≥–∞ —Å –∫–æ—Ä–∞–±–ª–µ–º
            for(let e of enemies) {
                if(e.y + e.h > ship.y && e.x < ship.x + ship.w && e.x + e.w > ship.x) {
                    gameOver = true;
                    break;
                }
            }
        }

        // --- –ì–ª–∞–≤–Ω—ã–π —Ü–∏–∫–ª –∏–≥—Ä—ã ---

        function gameLoop() {
            // –û—á–∏—Å—Ç–∫–∞ —ç–∫—Ä–∞–Ω–∞
            ctx.fillStyle = GAME_BG;
            ctx.fillRect(0, 0, cvs.width, cvs.height);
            
            if (gameOver) {
                ctx.fillStyle = LOSE_COLOR;
                ctx.font = "bold 24px 'Consolas', monospace";
                ctx.textAlign = "center";
                ctx.fillText("üíÄ Game Over! üíÄ", cvs.width / 2, 220);
                clearInterval(gameLoopInterval);
                return;
            }

            if (enemies.length === 0) {
                ctx.fillStyle = WIN_COLOR;
                ctx.font = "bold 24px 'Consolas', monospace";
                ctx.textAlign = "center";
                ctx.fillText("üèÜ You WIN! üèÜ", cvs.width / 2, 220);
                clearInterval(gameLoopInterval);
                return;
            }

            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è
            moveShip();
            moveEnemies();
            moveBullets();
            detectCollisions();

            // –û—Ç—Ä–∏—Å–æ–≤–∫–∞
            drawShip();
            drawEnemies();
            drawBullets();
        }

        // --- –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π ---

        document.addEventListener('keydown', function(e) {
            keys[e.key] = true;
            
            // –í—ã—Å—Ç—Ä–µ–ª
            if((e.key === " " || e.key === "ArrowUp") && bullets.length < BULLET_LIMIT) {
                // –ù–µ –¥–æ–±–∞–≤–ª—è–µ–º –ø—É–ª—é —Å—Ä–∞–∑—É, –µ—Å–ª–∏ –∏–≥—Ä–∞ –æ–∫–æ–Ω—á–µ–Ω–∞
                if (!gameOver) {
                    bullets.push({ x: ship.x + 13, y: ship.y - 8 });
                }
                e.preventDefault(); // –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç—å –ø—Ä–æ–∫—Ä—É—Ç–∫—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø—Ä–æ–±–µ–ª–æ–º
            }
        });

        document.addEventListener('keyup', function(e){
            keys[e.key] = false;
        });

        // –ó–∞–ø—É—Å–∫ –∏–≥—Ä—ã –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        startGame();
        window.startGame = startGame; // –î–æ—Å—Ç—É–ø–Ω–æ –¥–ª—è –∫–Ω–æ–ø–∫–∏
    </script>
</body>
</html>
